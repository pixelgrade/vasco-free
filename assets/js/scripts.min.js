!function(u){function e(e){for(var t,n,o=e[0],i=e[1],r=e[2],a=0,s=[];a<o.length;a++)n=o[a],l[n]&&s.push(l[n][0]),l[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(u[t]=i[t]);for(d&&d(e);s.length;)s.shift()();return f.push.apply(f,r||[]),c()}function c(){for(var e,t=0;t<f.length;t++){for(var n=f[t],o=!0,i=1;i<n.length;i++){var r=n[i];0!==l[r]&&(o=!1)}o&&(f.splice(t--,1),e=a(a.s=n[0]))}return e}var n={},l={2:0,1:0},f=[];function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=u,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var t=window.webpackJsonp=window.webpackJsonp||[],o=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var d=o;f.push([6,0]),c()}([function(e,t){e.exports=jQuery},,function(e,t){e.exports=Masonry},,,,function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(0),g=n.n(o),i=n(4),a=n.n(i),s=n(3),u=n.n(s);function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"isTouch",value:function(){return"ontouchstart"in window||"DocumentTouch"in window}},{key:"handleCustomCSS",value:function(e){var t=void 0!==e?e.find("[data-css]"):g()("[data-css]");t.length&&t.each(function(e,t){var n=g()(t),o=n.data("css");void 0!==o&&n.replaceWith('<style type="text/css">'+o+"</style>")})}},{key:"unwrapImages",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.$body).find("p > img:first-child:last-child, p > a:first-child:last-child > img").each(function(e,t){var n=g()(t).closest("img"),o=n.attr("class"),i=n.closest("p"),r=g()("<figure />").attr("class",o);console.log(r,i,g.a.trim(i.text()).length),g.a.trim(i.text()).length||(r.append(n.removeAttr("class")).insertAfter(i),i.remove())})}},{key:"wrapEmbeds",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.$body).children("iframe, embed, object").wrap("<p>")}},{key:"handleVideos",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.$body).find(".video-placeholder").each(function(e,t){var n=g()(t),o=document.createElement("video"),i=g()(o).addClass("c-hero__video");o.onloadedmetadata=function(){return o.play()},o.src=n.data("src"),o.poster=n.data("poster"),o.muted=!0,o.loop=!0,n.replaceWith(i)})}},{key:"smoothScrollTo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"swing";g()("html, body").stop().animate({scrollTop:e},t,n)}},{key:"debounce",value:function(o,i,r){var a,s=this,u=arguments;return function(){var e=s,t=u,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||o.apply(e,t)},i),n&&o.apply(e,t)}}},{key:"throttle",value:function(e,t){var n=!1;return function(){n||(e(),n=!0,setTimeout(function(){n=!1},t))}}},{key:"mq",value:function(e,t){var n=g()('<div class="u-mq-'+e+"-"+t+'">').appendTo("body"),o=n.is(":visible");return n.remove(),o}},{key:"below",value:function(e){return t.mq("below",e)}},{key:"above",value:function(e){return t.mq("above",e)}},{key:"getParamFromURL",value:function(e,t){var n=t.split("?");if(void 0===n[1])return n[1];n=n[1].split("&");for(var o=Array.from(Array(n.length).keys()),i=0;i<o.length;i++){var r=n[o[i]].split("=");if(r[0]===e)return r[1]}}},{key:"reloadScript",value:function(e){var t=g()('script[src*="'+e+'"]'),n=g()("<script>"),o=t.attr("src");t.length&&(t.replaceWith(n),n.attr("src",o))}},{key:"getIEversion",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return 0<o&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)}},{key:"markFirstWord",value:function(e){var t=e.text().trim().split(" "),n=t.shift();e.html((0<t.length?'<span class="first-word">'+n+"</span> ":n)+t.join(" "))}},{key:"fitText",value:function(e){var t=parseFloat(e.css("fontSize")),n=parseFloat(e.css("lineHeight")),o=e.outerHeight()||n;e.css("fontSize",t*o/n)}}],(n=null)&&c(e.prototype,n),o&&c(e,o),t}();l.$body=g()("body");var f=n(1);function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"onLoad",value:function(){return f.DOM.fromEvent(this.getWindowEl(),"load")}},{key:"onResize",value:function(){return f.DOM.resize(this.getWindowEl())}},{key:"onScroll",value:function(){return f.DOM.scroll(this.getWindowEl())}},{key:"getWindow",value:function(){return e.$window}},{key:"getScrollY",value:function(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}},{key:"getWidth",value:function(){return e.$window.width()}},{key:"getHeight",value:function(){return e.$window.height()}},{key:"getWindowEl",value:function(){return e.$window[0]}},{key:"getOrientation",value:function(){return e.getWidth()>e.getHeight()?"landscape":"portrait"}}],(n=null)&&d(t.prototype,n),o&&d(t,o),e}();function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}p.$window=g()(window);var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"onCustomizerRender",value:function(){var e=window;return f.Observable.create(function(t){e.wp&&e.wp.customize&&e.wp.customize.selectiveRefresh&&e.wp.customize.selectiveRefresh.bind("partial-content-rendered",function(e){t.onNext($(e.container))})})}},{key:"onCustomizerChange",value:function(){var e=window;return f.Observable.create(function(t){e.wp&&e.wp.customize&&e.wp.customize.bind("change",function(e){t.onNext(e)})})}},{key:"onReady",value:function(){return f.DOM.ready()}}],(n=null)&&h(t.prototype,n),o&&h(t,o),e}();function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$body=g()("body"),this.$window=g()(window),this.$html=g()("html"),this.ev=g()({}),this.frameRendered=!1,this.subscriptionActive=!0,this.$html.toggleClass("is-IE",l.getIEversion()&&l.getIEversion()<12),this.bindEvents(),this.renderLoop()}var t,n,o;return t=e,(n=[{key:"bindEvents",value:function(){v.onReady().take(1).subscribe(this.onReadyAction.bind(this)),p.onLoad().take(1).subscribe(this.onLoadAction.bind(this)),p.onResize().debounce(500).subscribe(this.onResizeAction.bind(this)),p.onScroll().subscribe(this.onScrollAction.bind(this)),-1===window.location.href.indexOf("#comment")&&g()(".trigger-comments").removeAttr("checked"),this.$window.on("beforeunload",this.fadeOut.bind(this)),this.ev.on("render",this.update.bind(this))}},{key:"onScrollAction",value:function(){this.frameRendered=!1}},{key:"onReadyAction",value:function(){this.$html.addClass("is-ready")}},{key:"onLoadAction",value:function(){this.$html.addClass("is-loaded"),this.fadeIn()}},{key:"onResizeAction",value:function(){}},{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"renderLoop",value:function(){var e=this;!1===this.frameRendered&&this.ev.trigger("render"),requestAnimationFrame(function(){e.renderLoop(),e.frameRendered=!0,e.ev.trigger("afterRender")})}},{key:"update",value:function(){this.backToTop()}},{key:"backToTop",value:function(){g()(".back-to-top").toggleClass("is-visible",p.getScrollY()>=p.getHeight())}},{key:"eventHandlers",value:function(e){e.find(".back-to-top").on("click",function(e){e.preventDefault(),l.smoothScrollTo(0,1e3)})}},{key:"fadeOut",value:function(){this.$html.removeClass("fade-in").addClass("fade-out")}},{key:"fadeIn",value:function(){this.$html.removeClass("fade-out no-transitions").addClass("fade-in")}}])&&b(t.prototype,n),o&&b(t,o),e}();var m=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S="show-search-overlay",j=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=_(this,O(t).call(this))).$body=g()("body"),e.$document=g()(document),e.$searchField=g()(".c-search-overlay").find(".search-field"),e.keyupSubscriptionActive=!0,e.bindEvents(),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,m),n=t,(o=[{key:"destroy",value:function(){this.keyupSubscriptionActive=!1,this.$document.off("click.SearchOverlay")}},{key:"bindEvents",value:function(){this.$document.on("click.SearchOverlay",".js-search-trigger",this.open.bind(this)),this.$document.on("click.SearchOverlay",".js-search-close",this.close.bind(this)),this.keyupSub=f.DOM.keyup(document.querySelector("body"))}},{key:"createKeyupSubscription",value:function(){var e=this;this.keyupSubscriptionActive=!0,this.keyupSub.takeWhile(function(){return e.keyupSubscriptionActive}).subscribe(this.closeOnEsc.bind(this))}},{key:"open",value:function(){this.$searchField.focus(),this.$body.addClass(S),this.createKeyupSubscription()}},{key:"close",value:function(){this.$body.removeClass(S),this.$searchField.blur(),this.keyupSubscriptionActive=!1}},{key:"closeOnEsc",value:function(e){27===e.keyCode&&this.close()}}])&&k(n.prototype,o),i&&k(n,i),t}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=P(this,A(t).call(this))).$body=g()("body"),e.$document=g()(document),e.$mainMenu=g()(".menu--primary"),e.$mainMenuItems=e.$mainMenu.find("li"),e.$menuToggle=g()("#menu-toggle"),e.isMobileHeaderInitialised=!1,e.isDesktopHeaderInitialised=!1,e.areMobileBindingsDone=!1,e.subscriptionActive=!0,e.preventOneSelector="a.prevent-one",g()(".c-navbar__zone").each(function(e,t){var n=g()(t);n.find(".c-branding").length&&n.addClass("c-navbar__zone--branding"),n.find(".jetpack-social-navigation").length&&n.addClass("c-navbar__zone--social")}),g()(".c-navbar .c-logo").imagesLoaded(function(){e.bindEvents(),e.eventHandlers(),e.updateOnResize(),e.toggleNavStateClass()}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,m),n=t,(o=[{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"bindEvents",value:function(){var t=this;this.$menuToggle.on("change",this.onMenuToggleChange.bind(this)),this.$mainMenuItems.hoverIntent({out:function(e){return t.toggleSubMenu(e,!1)},over:function(e){return t.toggleSubMenu(e,!0)},timeout:300}),p.onResize().takeWhile(function(){return t.subscriptionActive}).subscribe(function(){t.updateOnResize()})}},{key:"eventHandlers",value:function(){l.below("lap")&&!this.areMobileBindingsDone&&(this.$document.on("click",this.preventOneSelector,this.onMobileMenuExpand.bind(this)),this.areMobileBindingsDone=!0),l.above("lap")&&this.areMobileBindingsDone&&(this.$document.off("click",this.preventOneSelector,this.onMobileMenuExpand.bind(this)),this.areMobileBindingsDone=!1)}},{key:"updateOnResize",value:function(){this.eventHandlers(),l.below("lap")?this.prepareMobileMenuMarkup():this.prepareDesktopMenuMarkup()}},{key:"prepareDesktopMenuMarkup",value:function(){this.isDesktopHeaderInitialised||(this.isDesktopHeaderInitialised=!0)}},{key:"prepareMobileMenuMarkup",value:function(){if(!this.isMobileHeaderInitialised){var e=g()(".c-branding");e.clone().addClass("c-branding--mobile"),e.find("img").removeClass("is--loading");var t=g()('<div class="site-header-mobile  u-header-sides-spacing"></div>'),n=g()(".js-mobile-search-trigger");t.append(e.clone()),t.append(n.clone().show()),t.appendTo(".c-navbar"),g()(".menu-item-has-children").removeClass("hover"),g()(".menu-item-has-children > a").each(function(e,t){g()(t).addClass("prevent-one")}),this.isMobileHeaderInitialised=!0}}},{key:"toggleSubMenu",value:function(e,t){g()(e.currentTarget).toggleClass("hover",t)}},{key:"onMobileMenuExpand",value:function(e){e.preventDefault(),e.stopPropagation();var t=g()(e.currentTarget),n="active";t.hasClass(n)?window.location.href=t.attr("href"):(g()(this.preventOneSelector).removeClass(n),t.addClass(n),t.parent().siblings().removeClass("hover"),t.parent().addClass("hover"))}},{key:"toggleNavStateClass",value:function(){var e=this.$menuToggle.prop("checked");return this.$body.toggleClass("nav--is-open",e),e}},{key:"onMenuToggleChange",value:function(e){var t=this;this.toggleNavStateClass()||setTimeout(function(){t.$mainMenuItems.removeClass("hover"),t.$mainMenuItems.find("a").removeClass("active")},300)}}])&&E(n.prototype,o),i&&E(n,i),t}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=I(this,z(n).call(this))).subscriptionActive=!0,t.masonryGallerySelector=".c-gallery--packed, .c-gallery--masonry",t.element=e,t.layout(),p.onResize().debounce(300).takeWhile(function(){return t.subscriptionActive}).subscribe(function(){t.layout()}),v.onCustomizerRender().debounce(300).takeWhile(function(){return t.subscriptionActive}).subscribe(function(){t.layout()}),v.onCustomizerChange().debounce(300).takeWhile(function(){return t.subscriptionActive}).subscribe(function(){t.layout()}),t}var t,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(n,m),t=n,(o=[{key:"bindEvents",value:function(){}},{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"layout",value:function(){var o,e=this.element.children();e.length&&this.element.is(this.masonryGallerySelector)&&(o=this.element.children().get(0).getBoundingClientRect().width,e.each(function(e,t){var n=t.getBoundingClientRect().width;o=n<o?n:o}),this.masonry&&this.masonry.destroy(),this.masonry=new r(this.element.get(0),{columnWidth:o,transitionDuration:0}))}}])&&H(t.prototype,o),i&&H(t,i),n}(),B=n(5);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function q(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function r(e,t,n){var o,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=q(this,N(r).call(this))).radius=10,o.complexity=.84,o.sides=e,o.complexity=t,o.preset=n+i,o.presetOffset=i,o.bindEvents(),o.render(),o}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(r,m),t=r,(n=[{key:"generateSvg",value:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttribute("viewBox","0 0 "+2*this.radius+" "+2*this.radius),e.setAttribute("fill","currentColor"),t.setAttribute("points",this.generatePoints(!0)),e.appendChild(t),e}},{key:"morph",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:300;B({duration:e,offset:0,points:this.generatePoints(!0),targets:this.element.find("polygon").get(0)})}},{key:"render",value:function(){var e=g()(this.generateSvg());this.element&&this.element.replaceWith(e),this.element=e}},{key:"getRatio",value:function(e,t){var n=Math.pow(e,t);return(4+6*this.getMagicDigit(n)/9)/10}},{key:"setPreset",value:function(e){this.preset=e+this.presetOffset}},{key:"getMagicDigit",value:function(e){for(var t=0;0<e||9<t;)0===e&&(e=t,t=0),t+=e%10,e=Math.floor(e/10);return t}},{key:"setComplexity",value:function(e){this.complexity=e}},{key:"setSides",value:function(e){this.sides=e}},{key:"generatePoints",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var e=[],t=1;t<=this.sides;t++){var n=2*Math.PI*t/this.sides-Math.PI/2,o=.7+(this.getRatio(this.preset,t)-.7)*this.complexity,i=this.radius*(Math.cos(n)*o+1),r=this.radius*(Math.sin(n)*o+1);e.push(i+","+r)}return e.join(" ")}},{key:"getSvg",value:function(){return this.element}},{key:"getPreset",value:function(){return this.preset}},{key:"bindEvents",value:function(){}},{key:"destroy",value:function(){}}])&&F(t.prototype,n),o&&F(t,o),r}();function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Q(e,t,n){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z="announcementClosed";new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=V(this,U(t).call(this))).isLoggedIn=g()("body").hasClass("logged-in"),e.windowDimensions={height:e.$window.height(),width:e.$window.width()},e.blobs=[],e.$announcementBar=g()(".c-announcement-bar"),e.$siteHeader=g()(".site-header"),e.$toolbar=g()(".c-toolbar"),e.$contentPaddingContainer=g()(".u-header-height-padding-top"),e.isLoggedIn&&e.clearAnnouncementCookie(),setTimeout(function(){e.initAnnouncementBar()},50),e.handleContent(),e.groupWidgets(),e.generateBlobs(),v.onCustomizerRender().debounce(300).takeWhile(function(){return e.subscriptionActive}).subscribe(function(){e.groupWidgets(),e.prepareFeatureHover(),e.initStamp()}),v.onCustomizerChange().debounce(300).takeWhile(function(){return e.subscriptionActive}).subscribe(function(){e.prepareFeatureHover(),e.initStamp()}),v.onCustomizerChange().debounce(300).takeWhile(function(){return e.subscriptionActive}).subscribe(function(){e.updateBlobParameters()}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,y),n=t,(o=[{key:"addBrowserClasses",value:function(){var e=window;g()("body").toggleClass("is-safari",!!e.safari)}},{key:"updateBlobParameters",value:function(){var e=window.wp,n=g()("#goo"),t=parseInt(e.customize("vasco_options[blobs_complexity]")(),10)/100,o=parseInt(e.customize("vasco_options[blobs_smoothness]")(),10),i=parseInt(e.customize("vasco_options[blobs_preset]")(),10);this.blobs.forEach(function(e){e.getPreset()!==i&&e.setPreset(i),e.setComplexity(t),e.morph(600)}),requestAnimationFrame(function(){var e=Math.max(o,0),t="0 0 0 "+(1+o)+" -"+o/3;n.find("feGaussianBlur").attr("stdDeviation",e),n.find("feColorMatrix").attr("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0 "+t)})}},{key:"bindEvents",value:function(){Q(U(t.prototype),"bindEvents",this).call(this),this.handleFeatureCardMobileClick()}},{key:"handleFeatureCardMobileClick",value:function(){l.above("lap")||g()(".widget_feature_card").on("click",function(e){var t=g()(e.currentTarget).find(".c-feature__action").find("a");t.attr("href")&&(window.location.href=t.attr("href"))})}},{key:"onLoadAction",value:function(){Q(U(t.prototype),"onLoadAction",this).call(this),this.Header=new T,this.SearchOverlay=new j,this.addNavigationClasses(),this.addBrowserClasses(),this.adjustLayout(),this.initStamp()}},{key:"onResizeAction",value:function(){Q(U(t.prototype),"onResizeAction",this).call(this),this.adjustLayout(),this.windowDimensions.width!==this.$window.width()&&this.windowDimensions.height!==this.$window.height()&&(this.windowDimensions={width:this.$window.width(),height:this.$window.height()},this.revertAnnouncementChanges(),this.initAnnouncementBar())}},{key:"onJetpackPostLoad",value:function(){var e=g()("#posts-container");this.handleContent(e),this.adjustLayout()}},{key:"handleContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$body;l.unwrapImages(e.find(".entry-content")),l.wrapEmbeds(e.find(".entry-content")),l.handleVideos(e),l.handleCustomCSS(e),this.handleGalleries(e),this.eventHandlers(e);var t=e.find(".comment-form");if(t.length){var n=g()('<div class="comment-form-subscriptions"></div>').appendTo(t);t.find(".comment-subscription-form").appendTo(n)}e.find(".c-gallery").not(".c-gallery--widget").each(function(e,t){new W(g()(t))})}},{key:"generateBlobs",value:function(){var i=this,r=parseInt(g()("body").data("blobs-preset"),10),a=parseInt(g()("body").data("blobs-complexity"),10)/100;g()(".blob--shape-1").each(function(e,t){var n=g()(t),o=new J(13,a,r);i.blobs.push(o),n.append(o.getSvg())}),g()(".blob--shape-2").each(function(e,t){var n=g()(t),o=new J(13,a,r,1);i.blobs.push(o),n.append(o.getSvg())}),g()(".blob--shape-3").each(function(e,t){var n=g()(t),o=new J(13,a,r,2);i.blobs.push(o),n.append(o.getSvg())}),window.requestAnimationFrame(function(){g()(".blob--shape").closest(".blob").addClass("blob--loaded")})}},{key:"groupWidgets",value:function(){g()("body.is-customizer-preview").length&&g()(".widget-area--front-page-1, .widget-area--footer-featured").each(function(e,t){var n=g()(t),o=n.find(".widget"),i=".widget_feature_card",r=".widget_stamp",a=".widget_mc4wp_form_widget",s=".widget_wpcom_social_media_icons_widget, .jetpack_widget_social_icons",u=".null-instagram-feed",c="widget-group";n.children("."+c).children().unwrap(),n.children("."+c).remove();for(var l=0;l<o.length;l++){var f=o.eq(l),d=f.next(),p=d.next(),h=p.next(),v=void 0,b=void 0,y=0;f.is(i)&&d.is(i)&&(v=f.add(d),b="feature-group-2",y=1,p.is(i)&&(v=v.add(p),b="feature-group-3",y=2,h.is(i)&&(v=v.add(h),b="feature-group-4",y=3))),(f.is(a)&&d.is(r)||f.is(r)&&d.is(a))&&(v=f.add(d),b="stamp-newsletter-group",y=1),(f.is(s)&&d.is(u)||f.is(u)&&d.is(s))&&(v=f.add(d),b="social-instagram-group",y=1),v&&v.wrapAll('<div class="'+b+" "+c+'">'),l+=y}})}},{key:"handleGalleries",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:l.$body).find(".js-masonry, .u-gallery-type--masonry").each(function(e,t){new r(t,{transitionDuration:0})})}},{key:"prepareFeatureHover",value:function(){g()(".c-feature").each(function(e,t){var n=g()(t),o=n.offset(),i=n.outerHeight(),r=n.find(".c-feature__title").css({transform:"",transition:"none"}),a=r.offset(),s=r.outerHeight(),u=o.top-a.top,c=a.top+s-(o.top+i),l=n.find(".c-feature__title, .c-feature__description, .c-feature__action"),f="translate3d(0,"+(u/2-c/2)+"px ,0)";l.css({transform:f,transition:"none"}),r.css("opacity",1),requestAnimationFrame(function(){l.css("transition","")})})}},{key:"makeStampInGroupSquare",value:function(){g()(".stamp-newsletter-group").each(function(e,t){var n=g()(t).find(".widget_stamp").css("width","");n.outerWidth(n.outerHeight())})}},{key:"profileWidget",value:function(){g()(".c-profile").each(function(e,t){var n=g()(t),o=n.outerHeight();n.find(".c-profile__dropcap").css("fontSize",.8*o)})}},{key:"adjustLayout",value:function(){this.profileWidget(),this.prepareFeatureHover(),this.makeStampInGroupSquare()}},{key:"addNavigationClasses",value:function(){var o=g()("ul.page-numbers"),e=o.find("li");o.append('<div class="page-numbers__left"></div>'),o.append('<div class="page-numbers__middle"></div>'),o.append('<div class="page-numbers__right"></div>'),e.each(function(e,t){var n=g()(t);n.find(".prev").length&&o.find(".page-numbers__left").append(n),n.find(".next").length&&o.find(".page-numbers__right").append(n),n.find(".next").length||n.find(".prev").length||o.find(".page-numbers__middle").append(n)}),o.css("opacity",1)}},{key:"initStamp",value:function(){var e=g()(".c-stamp.c-stamp--auto");e.each(function(e,t){var n=g()(t),o=n.find(".c-stamp__text").first();new a.a(o[0]).radius(89).dir(-1),n.parent().hasClass("blob-container")&&n.addClass("c-stamp--rotated"),setTimeout(function(){n.css("opacity",.9)},200)})}},{key:"clearAnnouncementCookie",value:function(){u.a.remove(Z)}},{key:"initAnnouncementBar",value:function(){if(!("true"===u.a.get("announcementClosed"))){var e=g()("#wpadminbar").outerHeight(),t=this.$announcementBar.outerHeight(),n=this.$siteHeader.outerHeight();this.$siteHeader.css("top",t+e),this.$toolbar.css("top",t+e),this.$contentPaddingContainer.css("padding-top",n+t),this.$announcementBar.css("top",e).removeClass("c-announcement-bar--hidden"),g()(".js-announcement-bar__close").on("click",this.onAnnouncementClose.bind(this))}}},{key:"revertAnnouncementChanges",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.$siteHeader.outerHeight();e&&(this.$announcementBar.addClass("animated"),this.$siteHeader.addClass("animated"),this.$toolbar.addClass("animated"),this.$contentPaddingContainer.addClass("animated")),this.$announcementBar.addClass("c-announcement-bar--hidden"),this.$siteHeader.css("top",""),this.$toolbar.css("top",""),this.$contentPaddingContainer.css("padding-top",t),this.$announcementBar.css("top","")}},{key:"onAnnouncementClose",value:function(e){e.preventDefault(),this.revertAnnouncementChanges(!0),this.isLoggedIn||u.a.set(Z,"true",{expires:1})}}])&&K(n.prototype,o),i&&K(n,i),t}())}]);