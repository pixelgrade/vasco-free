!function(e){function t(t){for(var o,a,s=t[0],u=t[1],c=t[2],f=0,d=[];f<s.length;f++)a=s[f],i[a]&&d.push(i[a][0]),i[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(l&&l(t);d.length;)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={0:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;r.push([11,1]),n()}({0:function(e,t){e.exports=jQuery},11:function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(0),r=n.n(i),a=n(7),s=n.n(a),u=n(3),c=n.n(u);function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"isTouch",value:function(){return"ontouchstart"in window||"DocumentTouch"in window}},{key:"handleCustomCSS",value:function(e){var t=void 0!==e?e.find("[data-css]"):r()("[data-css]");t.length&&t.each(function(e,t){var n=r()(t),o=n.data("css");void 0!==o&&n.replaceWith('<style type="text/css">'+o+"</style>")})}},{key:"unwrapImages",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.$body).find("p > img:first-child:last-child, p > a:first-child:last-child > img").each(function(e,t){var n=r()(t).closest("img"),o=n.attr("class"),i=n.closest("p"),a=r()("<figure />").attr("class",o);console.log(a,i,r.a.trim(i.text()).length),r.a.trim(i.text()).length||(a.append(n.removeAttr("class")).insertAfter(i),i.remove())})}},{key:"wrapEmbeds",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.$body).children("iframe, embed, object").wrap("<p>")}},{key:"handleVideos",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.$body).find(".video-placeholder").each(function(e,t){var n=r()(t),o=document.createElement("video"),i=r()(o).addClass("c-hero__video");o.onloadedmetadata=function(){return o.play()},o.src=n.data("src"),o.poster=n.data("poster"),o.muted=!0,o.loop=!0,n.replaceWith(i)})}},{key:"smoothScrollTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"swing";r()("html, body").stop().animate({scrollTop:e},t,n)}},{key:"debounce",value:function(e,t,n){var o,i=this,r=arguments;return function(){var a=i,s=r,u=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(a,s)},t),u&&e.apply(a,s)}}},{key:"throttle",value:function(e,t){var n=!1;return function(){n||(e(),n=!0,setTimeout(function(){n=!1},t))}}},{key:"mq",value:function(e,t){var n=r()('<div class="u-mq-'+e+"-"+t+'">').appendTo("body"),o=n.is(":visible");return n.remove(),o}},{key:"below",value:function(t){return e.mq("below",t)}},{key:"above",value:function(t){return e.mq("above",t)}},{key:"getParamFromURL",value:function(e,t){var n=t.split("?");if(void 0===n[1])return n[1];n=n[1].split("&");for(var o=Array.from(Array(n.length).keys()),i=0;i<o.length;i++){var r=n[o[i]].split("=");if(r[0]===e)return r[1]}}},{key:"reloadScript",value:function(e){var t=r()('script[src*="'+e+'"]'),n=r()("<script>"),o=t.attr("src");t.length&&(t.replaceWith(n),n.attr("src",o))}},{key:"getIEversion",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)}},{key:"markFirstWord",value:function(e){var t=e.text().trim().split(" "),n=t.shift();e.html((t.length>0?'<span class="first-word">'+n+"</span> ":n)+t.join(" "))}},{key:"fitText",value:function(e){var t=parseFloat(e.css("fontSize")),n=parseFloat(e.css("lineHeight")),o=e.outerHeight()||n;e.css("fontSize",t*o/n)}}],(n=null)&&l(t.prototype,n),o&&l(t,o),e}();f.$body=r()("body");var d=n(1);function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"onLoad",value:function(){return d.DOM.fromEvent(this.getWindowEl(),"load")}},{key:"onResize",value:function(){return d.DOM.resize(this.getWindowEl())}},{key:"onScroll",value:function(){return d.DOM.scroll(this.getWindowEl())}},{key:"getWindow",value:function(){return e.$window}},{key:"getScrollY",value:function(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}},{key:"getWidth",value:function(){return e.$window.width()}},{key:"getHeight",value:function(){return e.$window.height()}},{key:"getWindowEl",value:function(){return e.$window[0]}},{key:"getOrientation",value:function(){return e.getWidth()>e.getHeight()?"landscape":"portrait"}}],(n=null)&&p(t.prototype,n),o&&p(t,o),e}();function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}h.$window=r()(window);var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"onCustomizerRender",value:function(){var e=window;return d.Observable.create(function(t){e.wp&&e.wp.customize&&e.wp.customize.selectiveRefresh&&e.wp.customize.selectiveRefresh.bind("partial-content-rendered",function(e){t.onNext($(e.container))})})}},{key:"onCustomizerChange",value:function(){var e=window;return d.Observable.create(function(t){e.wp&&e.wp.customize&&e.wp.customize.bind("change",function(e){t.onNext(e)})})}},{key:"onReady",value:function(){return d.DOM.ready()}}],(n=null)&&v(t.prototype,n),o&&v(t,o),e}();function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$body=r()("body"),this.$window=r()(window),this.$html=r()("html"),this.ev=r()({}),this.frameRendered=!1,this.subscriptionActive=!0,this.$html.toggleClass("is-IE",f.getIEversion()&&f.getIEversion()<12),this.bindEvents(),this.renderLoop()}var t,n,o;return t=e,(n=[{key:"bindEvents",value:function(){b.onReady().take(1).subscribe(this.onReadyAction.bind(this)),h.onLoad().take(1).subscribe(this.onLoadAction.bind(this)),h.onResize().debounce(500).subscribe(this.onResizeAction.bind(this)),h.onScroll().subscribe(this.onScrollAction.bind(this)),-1===window.location.href.indexOf("#comment")&&r()(".trigger-comments").removeAttr("checked"),this.$window.on("beforeunload",this.fadeOut.bind(this)),this.ev.on("render",this.update.bind(this))}},{key:"onScrollAction",value:function(){this.frameRendered=!1}},{key:"onReadyAction",value:function(){this.$html.addClass("is-ready")}},{key:"onLoadAction",value:function(){this.$html.addClass("is-loaded"),this.fadeIn()}},{key:"onResizeAction",value:function(){}},{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"renderLoop",value:function(){var e=this;!1===this.frameRendered&&this.ev.trigger("render"),requestAnimationFrame(function(){e.renderLoop(),e.frameRendered=!0,e.ev.trigger("afterRender")})}},{key:"update",value:function(){this.backToTop()}},{key:"backToTop",value:function(){r()(".back-to-top").toggleClass("is-visible",h.getScrollY()>=h.getHeight())}},{key:"eventHandlers",value:function(e){e.find(".back-to-top").on("click",function(e){e.preventDefault(),f.smoothScrollTo(0,1e3)})}},{key:"fadeOut",value:function(){this.$html.removeClass("fade-in").addClass("fade-out")}},{key:"fadeIn",value:function(){this.$html.removeClass("fade-out no-transitions").addClass("fade-in")}}])&&y(t.prototype,n),o&&y(t,o),e}();var m=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=_(this,C(t).call(this))).$body=r()("body"),e.$document=r()(document),e.$searchField=r()(".c-search-overlay").find(".search-field"),e.subscriptionActive=!0,e.keyupSubscriptionActive=!0,e.bindEvents(),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,m),n=t,(o=[{key:"destroy",value:function(){this.subscriptionActive=!1,this.keyupSubscriptionActive=!1,this.$document.off("click.SearchOverlay")}},{key:"bindEvents",value:function(){var e=this;this.$document.on("click.SearchOverlay",".js-search-trigger",this.open.bind(this)),this.closeSub=d.DOM.click(document.querySelector(".js-search-close")),this.keyupSub=d.DOM.keyup(document.querySelector("body")),this.closeSub.takeWhile(function(){return e.subscriptionActive}).subscribe(this.close.bind(this))}},{key:"createKeyupSubscription",value:function(){var e=this;this.keyupSubscriptionActive=!0,this.keyupSub.takeWhile(function(){return e.keyupSubscriptionActive}).subscribe(this.closeOnEsc.bind(this))}},{key:"open",value:function(){this.$searchField.focus(),this.$body.addClass("show-search-overlay"),this.createKeyupSubscription()}},{key:"close",value:function(){this.$body.removeClass("show-search-overlay"),this.$searchField.blur(),this.keyupSubscriptionActive=!1}},{key:"closeOnEsc",value:function(e){27===e.keyCode&&this.close()}}])&&k(n.prototype,o),i&&k(n,i),t}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=A(this,E(t).call(this))).$body=r()("body"),e.$document=r()(document),e.$mainMenu=r()(".menu--primary"),e.$mainMenuItems=e.$mainMenu.find("li"),e.$menuToggle=r()("#menu-toggle"),e.isMobileHeaderInitialised=!1,e.isDesktopHeaderInitialised=!1,e.areMobileBindingsDone=!1,e.subscriptionActive=!0,e.preventOneSelector="a.prevent-one",r()(".c-navbar__zone").each(function(e,t){var n=r()(t);n.find(".c-branding").length&&n.addClass("c-navbar__zone--branding"),n.find(".jetpack-social-navigation").length&&n.addClass("c-navbar__zone--social")}),r()(".c-navbar .c-logo").imagesLoaded(function(){e.bindEvents(),e.eventHandlers(),e.updateOnResize(),e.toggleNavStateClass()}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,m),n=t,(o=[{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"bindEvents",value:function(){var e=this;this.$menuToggle.on("change",this.onMenuToggleChange.bind(this)),this.$mainMenuItems.hoverIntent({out:function(t){return e.toggleSubMenu(t,!1)},over:function(t){return e.toggleSubMenu(t,!0)},timeout:300}),h.onResize().takeWhile(function(){return e.subscriptionActive}).subscribe(function(){e.updateOnResize()})}},{key:"eventHandlers",value:function(){f.below("lap")&&!this.areMobileBindingsDone&&(this.$document.on("click",this.preventOneSelector,this.onMobileMenuExpand.bind(this)),this.areMobileBindingsDone=!0),f.above("lap")&&this.areMobileBindingsDone&&(this.$document.off("click",this.preventOneSelector,this.onMobileMenuExpand.bind(this)),this.areMobileBindingsDone=!1)}},{key:"updateOnResize",value:function(){this.eventHandlers(),f.below("lap")?this.prepareMobileMenuMarkup():this.prepareDesktopMenuMarkup()}},{key:"prepareDesktopMenuMarkup",value:function(){this.isDesktopHeaderInitialised||(this.isDesktopHeaderInitialised=!0)}},{key:"prepareMobileMenuMarkup",value:function(){if(!this.isMobileHeaderInitialised){var e=r()(".c-branding");e.clone().addClass("c-branding--mobile"),e.find("img").removeClass("is--loading");var t=r()('<div class="site-header-mobile  u-header-sides-spacing"></div>'),n=r()(".js-mobile-search-trigger");t.append(e.clone()),t.append(n.clone().show()),t.appendTo(".c-navbar"),r()(".menu-item-has-children").removeClass("hover"),r()(".menu-item-has-children > a").each(function(e,t){r()(t).addClass("prevent-one")}),this.isMobileHeaderInitialised=!0}}},{key:"toggleSubMenu",value:function(e,t){r()(e.currentTarget).toggleClass("hover",t)}},{key:"onMobileMenuExpand",value:function(e){e.preventDefault(),e.stopPropagation();var t=r()(e.currentTarget);t.hasClass("active")?window.location.href=t.attr("href"):(r()(this.preventOneSelector).removeClass("active"),t.addClass("active"),t.parent().siblings().removeClass("hover"),t.parent().addClass("hover"))}},{key:"toggleNavStateClass",value:function(){var e=this.$menuToggle.prop("checked");return this.$body.toggleClass("nav--is-open",e),e}},{key:"onMenuToggleChange",value:function(e){var t=this;this.toggleNavStateClass()||setTimeout(function(){t.$mainMenuItems.removeClass("hover"),t.$mainMenuItems.find("a").removeClass("active")},300)}}])&&M(n.prototype,o),i&&M(n,i),t}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=I(this,z(t).call(this))).subscriptionActive=!0,n.masonryGallerySelector=".c-gallery--packed, .c-gallery--masonry",n.element=e,n.layout(),h.onResize().debounce(300).takeWhile(function(){return n.subscriptionActive}).subscribe(function(){n.layout()}),b.onCustomizerRender().debounce(300).takeWhile(function(){return n.subscriptionActive}).subscribe(function(){n.layout()}),b.onCustomizerChange().debounce(300).takeWhile(function(){return n.subscriptionActive}).subscribe(function(){n.layout()}),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,m),n=t,(i=[{key:"bindEvents",value:function(){}},{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"layout",value:function(){var e,t=this.element.children();t.length&&this.element.is(this.masonryGallerySelector)&&(e=this.element.children().get(0).getBoundingClientRect().width,t.each(function(t,n){var o=n.getBoundingClientRect().width;e=o<e?o:e}),this.masonry&&this.masonry.destroy(),this.masonry=new o(this.element.get(0),{columnWidth:e,transitionDuration:0}))}}])&&R(n.prototype,i),r&&R(n,r),t}(),W=n(8);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(e,n,o){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=F(this,q(t).call(this))).radius=10,i.complexity=.84,i.sides=e,i.complexity=n,i.preset=o+r,i.presetOffset=r,i.bindEvents(),i.render(),i}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,m),n=t,(o=[{key:"generateSvg",value:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttribute("viewBox","0 0 "+2*this.radius+" "+2*this.radius),e.setAttribute("fill","currentColor"),t.setAttribute("points",this.generatePoints(!0)),e.appendChild(t),e}},{key:"morph",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;W({duration:e,offset:0,points:this.generatePoints(!0),targets:this.element.find("polygon").get(0)})}},{key:"render",value:function(){var e=r()(this.generateSvg());this.element&&this.element.replaceWith(e),this.element=e}},{key:"getRatio",value:function(e,t){var n=Math.pow(e,t);return(4+6*this.getMagicDigit(n)/9)/10}},{key:"setPreset",value:function(e){this.preset=e+this.presetOffset}},{key:"getMagicDigit",value:function(e){for(var t=0;e>0||t>9;)0===e&&(e=t,t=0),t+=e%10,e=Math.floor(e/10);return t}},{key:"setComplexity",value:function(e){this.complexity=e}},{key:"setSides",value:function(e){this.sides=e}},{key:"generatePoints",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e=[],t=1;t<=this.sides;t++){var n=2*Math.PI*t/this.sides-Math.PI/2,o=.7+(this.getRatio(this.preset,t)-.7)*this.complexity,i=this.radius*(Math.cos(n)*o+1),r=this.radius*(Math.sin(n)*o+1);e.push(i+","+r)}return e.join(" ")}},{key:"getSvg",value:function(){return this.element}},{key:"getPreset",value:function(){return this.preset}},{key:"bindEvents",value:function(){}},{key:"destroy",value:function(){}}])&&L(n.prototype,o),i&&L(n,i),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=K(this,Q(t).call(this))).isLoggedIn=r()("body").hasClass("logged-in"),e.windowDimensions={height:e.$window.height(),width:e.$window.width()},e.blobs=[],e.$announcementBar=r()(".c-announcement-bar"),e.$siteHeader=r()(".site-header"),e.$toolbar=r()(".c-toolbar"),e.$contentPaddingContainer=r()(".u-header-height-padding-top"),e.isLoggedIn&&e.clearAnnouncementCookie(),setTimeout(function(){e.initAnnouncementBar()},50),e.handleContent(),e.groupWidgets(),e.generateBlobs(),b.onCustomizerRender().debounce(300).takeWhile(function(){return e.subscriptionActive}).subscribe(function(){e.groupWidgets(),e.prepareFeatureHover(),e.initStamp()}),b.onCustomizerChange().debounce(300).takeWhile(function(){return e.subscriptionActive}).subscribe(function(){e.prepareFeatureHover(),e.initStamp()}),b.onCustomizerChange().debounce(300).takeWhile(function(){return e.subscriptionActive}).subscribe(function(){e.updateBlobParameters()}),e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,g),n=t,(i=[{key:"addBrowserClasses",value:function(){var e=window;r()("body").toggleClass("is-safari",!!e.safari)}},{key:"updateBlobParameters",value:function(){var e=window.wp,t=r()("#goo"),n=parseInt(e.customize("vasco_options[blobs_complexity]")(),10)/100,o=parseInt(e.customize("vasco_options[blobs_smoothness]")(),10),i=parseInt(e.customize("vasco_options[blobs_preset]")(),10);this.blobs.forEach(function(e){e.getPreset()!==i&&e.setPreset(i),e.setComplexity(n),e.morph(600)}),requestAnimationFrame(function(){var e=Math.max(o,0),n="0 0 0 "+(1+o)+" -"+o/3;t.find("feGaussianBlur").attr("stdDeviation",e),t.find("feColorMatrix").attr("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0 "+n)})}},{key:"bindEvents",value:function(){V(Q(t.prototype),"bindEvents",this).call(this),this.handleFeatureCardMobileClick()}},{key:"handleFeatureCardMobileClick",value:function(){f.above("lap")||r()(".widget_feature_card").on("click",function(e){var t=r()(e.currentTarget).find(".c-feature__action").find("a");t.attr("href")&&(window.location.href=t.attr("href"))})}},{key:"onLoadAction",value:function(){V(Q(t.prototype),"onLoadAction",this).call(this),this.Header=new x,this.SearchOverlay=new S,this.addNavigationClasses(),this.addBrowserClasses(),this.adjustLayout(),this.initStamp()}},{key:"onResizeAction",value:function(){V(Q(t.prototype),"onResizeAction",this).call(this),this.adjustLayout(),this.windowDimensions.width!==this.$window.width()&&this.windowDimensions.height!==this.$window.height()&&(this.windowDimensions={width:this.$window.width(),height:this.$window.height()},this.revertAnnouncementChanges(),this.initAnnouncementBar())}},{key:"onJetpackPostLoad",value:function(){var e=r()("#posts-container");this.handleContent(e),this.adjustLayout()}},{key:"handleContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$body;f.unwrapImages(e.find(".entry-content")),f.wrapEmbeds(e.find(".entry-content")),f.handleVideos(e),f.handleCustomCSS(e),this.handleGalleries(e),this.eventHandlers(e);var t=e.find(".comment-form");if(t.length){var n=r()('<div class="comment-form-subscriptions"></div>').appendTo(t);t.find(".comment-subscription-form").appendTo(n)}e.find(".c-gallery").not(".c-gallery--widget").each(function(e,t){new D(r()(t))})}},{key:"generateBlobs",value:function(){var e=this,t=parseInt(r()("body").data("blobs-preset"),10),n=parseInt(r()("body").data("blobs-complexity"),10)/100;r()(".blob--shape-1").each(function(o,i){var a=r()(i),s=new G(13,n,t);e.blobs.push(s),a.append(s.getSvg())}),r()(".blob--shape-2").each(function(o,i){var a=r()(i),s=new G(13,n,t,1);e.blobs.push(s),a.append(s.getSvg())}),r()(".blob--shape-3").each(function(o,i){var a=r()(i),s=new G(13,n,t,2);e.blobs.push(s),a.append(s.getSvg())})}},{key:"groupWidgets",value:function(){r()("body.is-customizer-preview").length&&r()(".widget-area--front-page-1, .widget-area--footer-featured").each(function(e,t){var n=r()(t),o=n.find(".widget"),i=".widget_wpcom_social_media_icons_widget, .jetpack_widget_social_icons";n.children(".widget-group").children().unwrap(),n.children(".widget-group").remove();for(var a=0;a<o.length;a++){var s=o.eq(a),u=s.next(),c=u.next(),l=c.next(),f=void 0,d=void 0,p=0;s.is(".widget_feature_card")&&u.is(".widget_feature_card")&&(f=s.add(u),d="feature-group-2",p=1,c.is(".widget_feature_card")&&(f=f.add(c),d="feature-group-3",p=2,l.is(".widget_feature_card")&&(f=f.add(l),d="feature-group-4",p=3))),(s.is(".widget_mc4wp_form_widget")&&u.is(".widget_stamp")||s.is(".widget_stamp")&&u.is(".widget_mc4wp_form_widget"))&&(f=s.add(u),d="stamp-newsletter-group",p=1),(s.is(i)&&u.is(".null-instagram-feed")||s.is(".null-instagram-feed")&&u.is(i))&&(f=s.add(u),d="social-instagram-group",p=1),f&&f.wrapAll('<div class="'+d+' widget-group">'),a+=p}})}},{key:"handleGalleries",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.$body).find(".js-masonry, .u-gallery-type--masonry").each(function(e,t){new o(t,{transitionDuration:0})})}},{key:"prepareFeatureHover",value:function(){r()(".c-feature").each(function(e,t){var n=r()(t),o=n.offset(),i=n.outerHeight(),a=n.find(".c-feature__title").css({transform:"",transition:"none"}),s=a.offset(),u=a.outerHeight(),c=o.top-s.top,l=s.top+u-(o.top+i),f=n.find(".c-feature__title, .c-feature__description, .c-feature__action"),d="translate3d(0,"+(c/2-l/2)+"px ,0)";f.css({transform:d,transition:"none"}),a.css("opacity",1),requestAnimationFrame(function(){f.css("transition","")})})}},{key:"makeStampInGroupSquare",value:function(){r()(".stamp-newsletter-group").each(function(e,t){var n=r()(t).find(".widget_stamp").css("width","");n.outerWidth(n.outerHeight())})}},{key:"profileWidget",value:function(){r()(".c-profile").each(function(e,t){var n=r()(t),o=n.outerHeight();n.find(".c-profile__dropcap").css("fontSize",.8*o)})}},{key:"adjustLayout",value:function(){this.profileWidget(),this.prepareFeatureHover(),this.makeStampInGroupSquare()}},{key:"addNavigationClasses",value:function(){var e=r()("ul.page-numbers"),t=e.find("li");e.append('<div class="page-numbers__left"></div>'),e.append('<div class="page-numbers__middle"></div>'),e.append('<div class="page-numbers__right"></div>'),t.each(function(t,n){var o=r()(n);o.find(".prev").length&&e.find(".page-numbers__left").append(o),o.find(".next").length&&e.find(".page-numbers__right").append(o),o.find(".next").length||o.find(".prev").length||e.find(".page-numbers__middle").append(o)}),e.css("opacity",1)}},{key:"initStamp",value:function(){var e=r()(".c-stamp.c-stamp--auto");e.each(function(e,t){var n=r()(t),o=n.find(".c-stamp__text").first();new s.a(o[0]).radius(89).dir(-1),n.parent().hasClass("blob-container")&&n.addClass("c-stamp--rotated"),setTimeout(function(){n.css("opacity",.9)},200)})}},{key:"clearAnnouncementCookie",value:function(){c.a.remove("announcementClosed")}},{key:"initAnnouncementBar",value:function(){if(!("true"===c.a.get("announcementClosed"))){var e=r()("#wpadminbar").outerHeight()||0,t=this.$announcementBar.outerHeight();this.modifyCss(this.$siteHeader,"top",t,"+="),this.modifyCss(this.$toolbar,"padding-top",t,"+="),this.modifyCss(this.$contentPaddingContainer,"padding-top",t,"+="),this.modifyCss(this.$announcementBar,"top",e,"+="),this.$announcementBar.removeClass("c-announcement-bar--hidden"),r()(".js-announcement-bar__close").on("click",this.onAnnouncementClose.bind(this))}}},{key:"modifyCss",value:function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"px";e.css(t,"".concat(o).concat(n).concat(i))}},{key:"revertAnnouncementChanges",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.$announcementBar.addClass("animated"),this.$siteHeader.addClass("animated"),this.$toolbar.addClass("animated"),this.$contentPaddingContainer.addClass("animated")),this.$announcementBar.addClass("c-announcement-bar--hidden"),this.$siteHeader.css("top",""),this.$toolbar.css("padding-top",""),this.$contentPaddingContainer.css("padding-top",""),this.$announcementBar.css("top","")}},{key:"onAnnouncementClose",value:function(e){e.preventDefault(),this.revertAnnouncementChanges(!0),this.isLoggedIn||c.a.set("announcementClosed","true",{expires:1})}}])&&Y(n.prototype,i),a&&Y(n,a),t}())},2:function(e,t){e.exports=Masonry}});